<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fdc_bitstream: Disk image analyzer tool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fdc_bitstream
   </div>
   <div id="projectbrief">FDC library for MFM floppy bit stream data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_disk_analyzer__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Disk image analyzer tool </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command   </th><th class="markdownTableHeadNone">Parameters   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>o</code>   </td><td class="markdownTableBodyNone"><code>file_name</code>   </td><td class="markdownTableBodyNone">Open an image file.(HFE/MFM/RAW/D77)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>w</code>   </td><td class="markdownTableBodyNone"><code>file_name</code>   </td><td class="markdownTableBodyNone">Write an image file. (MFM, D77)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>scr</code>   </td><td class="markdownTableBodyNone"><code>file_name</code>   </td><td class="markdownTableBodyNone">Run a script file.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>rt</code>   </td><td class="markdownTableBodyNone"><code>trk</code>   </td><td class="markdownTableBodyNone">Read track<br  />
The data in green color indicates that the data has '<b>missing-clock</b>' bit pattern.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vt</code>   </td><td class="markdownTableBodyNone"><code>trk</code> [<code>trk_e</code>]   </td><td class="markdownTableBodyNone">Validate track(s).<br  />
Performs read ID and read sector for a track.<br  />
If you specify 'trk_e', the command will perform track validation from 'trk' to 'trk_e'.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>tt</code>   </td><td class="markdownTableBodyNone"><code>trk</code> [<code>s_byte</code>] [<code>e_byte</code>]   </td><td class="markdownTableBodyNone">Trim track.<br  />
Cut out the track data starting from 's_byte' to 'e_byte'.<br  />
The 's_byte' and 'e_byte' can be specified in byte position in the track dump.<br  />
If '<code>*</code>' is specified for 'trk', all tracks will be trimmed.<br  />
If '<code>*</code>' is specified for 's_byte' and 'e_byte' is omitted, the target track will be trimmed down to whole 1 disk rotation length based on the spindle time data (auto trimming). (e.g. <code>tt * *</code>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ri</code>   </td><td class="markdownTableBodyNone"><code>trk</code> [<code>trk_e</code>]   </td><td class="markdownTableBodyNone">Read all sector IDs.<br  />
Perform ID read from 'trk' to 'trk_e' if you specify 'trk_e'. Otherwise, an ID read operation will be performed for a track.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>rs</code>   </td><td class="markdownTableBodyNone"><code>trk</code> <code>sct</code>   </td><td class="markdownTableBodyNone">Read sector 1.<br  />
Read a sector from track=trk with CHR==(trk/2, trk%2, sct).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>rs</code>   </td><td class="markdownTableBodyNone"><code>trk</code> <code>#sct</code>   </td><td class="markdownTableBodyNone">Read sector 2.<br  />
Read a sector from track=trk with sector index #. The sector index # starts from 1 and #1 means the first sector after the index hole.<br  />
e.g. rs 0 #5 =&gt; The 5th sector in track 0.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>rsp</code>   </td><td class="markdownTableBodyNone"><code>trk</code> <code>sct</code>   </td><td class="markdownTableBodyNone">Read sector with pulse dump 1.<br  />
Perform a sector read and display the result with pulse dump. You can check the integrity of MFM pulses.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>rsp</code>   </td><td class="markdownTableBodyNone"><code>trk</code> <code>#sct</code>   </td><td class="markdownTableBodyNone">Read sector with pulse dump 2.<br  />
Same as <code>Read sector 2</code> but with pulse dump.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ef</code>   </td><td class="markdownTableBodyNone"><code>rate</code>   </td><td class="markdownTableBodyNone">Enable fluctuator (VFO stops at rate of <code>rate(0.0-1.0)</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" colspan="2"><code>ef</code>   </td><td class="markdownTableBodyNone">Disable fluctuator    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>gain</code>   </td><td class="markdownTableBodyNone"><code>gl</code> <code>gh</code>   </td><td class="markdownTableBodyNone">Set VFO gain (low=gl, high=gh)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" colspan="2"><code>vfo</code>   </td><td class="markdownTableBodyNone">Display current VFO parameters    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>vv</code>   </td><td class="markdownTableBodyNone"><code>trk</code> [<code>vfo_type</code>]   </td><td class="markdownTableBodyNone">VFO visualizer.<br  />
Read data pulses from the top of a track using specified type of VFO.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vpf</code>   </td><td class="markdownTableBodyNone"><code>trk</code>   </td><td class="markdownTableBodyNone">Visualize pulse fluctuation.<br  />
Visualize pulse pitch fluctuation throughout a track    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>sv</code>   </td><td class="markdownTableBodyNone"><code>vfo_type</code>   </td><td class="markdownTableBodyNone">Select VFO type.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vp</code>   </td><td class="markdownTableBodyNone"><code>trk</code> <code>bit_pos</code>   </td><td class="markdownTableBodyNone">Interactive pulse viewer.<br  />
You can check the condition of the raw bit stream data. You can change the bit position to show, bit cell width and bit window ratio by key operations. This feature supports MFM decoding, so you can check the real-time MFM decoded value of the bit stream you are seeing. Also, this feature will tell you the data matches the special missing clock pattern by showing the data in yellow.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" colspan="2"><code>rv</code>   </td><td class="markdownTableBodyNone">(soft) reset VFO<br  />
Initializes VFO parameters.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>histogram</code>   </td><td class="markdownTableBodyNone"><code>trk</code>   </td><td class="markdownTableBodyNone">Display histogram of data pulse distances in a track    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" colspan="2"><code>q</code>   </td><td class="markdownTableBodyNone">Quit analyzer   </td></tr>
</table>
<ul>
<li>Note1: The number starting with '$' will be handled as hexadecimal value (e.g. <b>$f7</b> == <b>247</b>) <br  />
</li>
<li>Note2: <b>VFO type</b> = 0:<a class="el" href="classvfo__fixed.html" title="Fixed VFO class (no VFO)">vfo_fixed</a>, 1:<a class="el" href="classvfo__simple.html" title="VFO class using simple proportional error correction (P)">vfo_simple</a>, 2:<a class="el" href="classvfo__pid.html" title="VFO class using PID control.">vfo_pid</a>, 3:<a class="el" href="classvfo__pid2.html" title="VFO class using PID control (2)">vfo_pid2</a>, 9=experimental. <br  />
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Command option</h1>
<p >The <code>analyzer</code> command will run a script file when the command is followed by a file name. <br  />
 </p><div class="fragment"><div class="line">analyzer script.txt</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Example</h1>
<div class="fragment"><div class="line">&gt;analyzer</div>
<div class="line">*** Command list</div>
<div class="line">o  file_name    Open an image file.</div>
<div class="line">rt trk          Read track</div>
<div class="line">ri trk          Read all sector IDs</div>
<div class="line">rs trk sid sct  Read sector</div>
<div class="line">ef nume denom   Enable fluctuator (VFO stops at rate of nume/denom)</div>
<div class="line">ef              Disable fluctuator</div>
<div class="line">gain gl gh      Set VFO gain (low=gl, high=gh)</div>
<div class="line"> </div>
<div class="line">CMD(1) &gt; o disk.raw</div>
<div class="line">Track num     : 80</div>
<div class="line">Spindle speed : 199.698 [ms/rotation]</div>
<div class="line">Sampling rate : 4 [Msamples/sec]</div>
<div class="line">Data bit rate : 500 [Kbit/sec]</div>
<div class="line">-- vfo_base --</div>
<div class="line">Cell_size : 8</div>
<div class="line">Cell_size_ref : 8</div>
<div class="line">Window ratio  : 0.9</div>
<div class="line">Window size   : 7.2</div>
<div class="line">Windoe offset : 0.4</div>
<div class="line">Gain (Low)    : 1</div>
<div class="line">Gain (High)   : 2</div>
<div class="line">Current gain  : 1</div>
<div class="line">-- vfo_simple2 --</div>
<div class="line">CMD(2) &gt; ri 0</div>
<div class="line">Read ID (0)</div>
<div class="line"> 1 00 00 01 01 fa0c ID-CRC_OK</div>
<div class="line"> 2 00 00 02 01 af5f ID-CRC_OK</div>
<div class="line"> 3 00 00 03 01 9c6e ID-CRC_OK</div>
<div class="line"> 4 00 00 04 01 05f9 ID-CRC_OK</div>
<div class="line"> 5 00 00 05 01 36c8 ID-CRC_OK</div>
<div class="line"> 6 00 00 06 01 639b ID-CRC_OK</div>
<div class="line"> 7 00 00 07 01 50aa ID-CRC_OK</div>
<div class="line"> 8 00 00 08 01 4094 ID-CRC_OK</div>
<div class="line"> 9 00 00 09 01 73a5 ID-CRC_OK</div>
<div class="line">10 00 00 0a 01 26f6 ID-CRC_OK</div>
<div class="line">11 00 00 0b 01 15c7 ID-CRC_OK</div>
<div class="line">12 00 00 0c 01 8c50 ID-CRC_OK</div>
<div class="line">13 00 00 0d 01 bf61 ID-CRC_OK</div>
<div class="line">14 00 00 0e 01 ea32 ID-CRC_OK</div>
<div class="line">15 00 00 0f 01 d903 ID-CRC_OK</div>
<div class="line">16 00 00 10 01 ca4e ID-CRC_OK</div>
<div class="line">CMD(3) &gt; rs 0 1</div>
<div class="line">Sector read : 0, 1</div>
<div class="line"> </div>
<div class="line">-OFST- : 00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f</div>
<div class="line">---------------------------------------------------------</div>
<div class="line">000000 : 00 01 e9 c8 ba e9 00 00 00 00 00 00 00 12 00 00</div>
<div class="line">000010 : 34 7e 86 fd 1f 8b 86 80 97 1d b6 01 02 97 1c 86</div>
<div class="line">000020 : 0a 97 18 8d 70 4f 97 19 b6 01 01 97 1b 8d 5f 86</div>
<div class="line">000030 : 1e 97 18 8d 60 b6 01 03 97 19 8e 06 18 5f 34 04</div>
<div class="line">000040 : 8d 4c 8d 58 8d 0d 8d 46 35 04 5c c1 3d 27 2a 34</div>
<div class="line">000050 : 04 20 f1 b6 01 05 97 1a 86 c0 97 18 d6 1f 2a 06</div>
<div class="line">000060 : 96 1b a7 80 20 f6 c5 40 27 f2 96 18 5f ed 81 39</div>
<div class="line">000070 : 10 8e 00 7b 31 3f 26 fc 39 8d 13 8d 08 8d 24 bf</div>
<div class="line">000080 : 01 08 6e 89 ff 10 8e 00 01 31 3f 26 fc 39 d6 18</div>
<div class="line">000090 : c5 81 26 fa 39 d6 1f c5 40 27 fa 39 d6 18 c5 02</div>
<div class="line">0000a0 : 27 fa 39 b6 01 05 97 1a 86 80 97 18 d6 1f 2a 06</div>
<div class="line">0000b0 : 96 1b a7 80 20 f6 c5 40 27 f2 d6 18 26 03 8d b0</div>
<div class="line">0000c0 : 39 f7 01 00 39 86 01 b7 ff e1 86 28 b1 0e 00 26</div>
<div class="line">0000d0 : 05 35 7e 39 10 12 35 7e 16 ff 35 e9 e9 e9 e9 12</div>
<div class="line">0000e0 : 17 ff 2d 8e 0d f8 39 e9 e9 e9 e9 e9 e9 e9 e9 e9</div>
<div class="line">0000f0 : e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9</div>
<div class="line"> </div>
<div class="line">CRC DAM  RNF ----ID_POS ---DAM_POS ---END_POS ---TIME(ms) SIZE</div>
<div class="line">OK  DAM  OK       20619      26431      59630    9.75275 256</div>
<div class="line">CMD(4) &gt; rt 0</div>
<div class="line"> </div>
<div class="line">-OFST- : 00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f</div>
<div class="line">---------------------------------------------------------------------------------------------------------</div>
<div class="line">000000 : b9 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39</div>
<div class="line">000020 : 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39</div>
<div class="line">000040 : 39 39 39 39 39 39 39 39 39 39 39 39 39 39 39 38 00 00 00 00 00 00 00 00 00 00 00 03 c2 c2 c2 fc</div>
<div class="line">000060 : 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e</div>
<div class="line">000080 : 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 00 00 00 00 00 00 00 00 00 00 00 00 a1 a1</div>
<div class="line">0000a0 : a1 fe 00 00 01 01 fa 0c 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 00 00</div>
<div class="line">0000c0 : 00 00 00 00 00 00 00 00 00 00 00 14 a1 a1 a1 fb 00 01 e9 c8 ba e9 00 00 00 00 00 00 00 12 00 00</div>
<div class="line">0000e0 : 34 7e 86 fd 1f 8b 86 80 97 1d b6 01 02 97 1c 86 0a 97 18 8d 70 4f 97 19 b6 01 01 97 1b 8d 5f 86</div>
<div class="line">000100 : 1e 97 18 8d 60 b6 01 03 97 19 8e 06 18 5f 34 04 8d 4c 8d 58 8d 0d 8d 46 35 04 5c c1 3d 27 2a 34</div>
<div class="line">000120 : 04 20 f1 b6 01 05 97 1a 86 c0 97 18 d6 1f 2a 06 96 1b a7 80 20 f6 c5 40 27 f2 96 18 5f ed 81 39</div>
<div class="line">000140 : 10 8e 00 7b 31 3f 26 fc 39 8d 13 8d 08 8d 24 bf 01 08 6e 89 ff 10 8e 00 01 31 3f 26 fc 39 d6 18</div>
<div class="line">000160 : c5 81 26 fa 39 d6 1f c5 40 27 fa 39 d6 18 c5 02 27 fa 39 b6 01 05 97 1a 86 80 97 18 d6 1f 2a 06</div>
<div class="line">000180 : 96 1b a7 80 20 f6 c5 40 27 f2 d6 18 26 03 8d b0 39 f7 01 00 39 86 01 b7 ff e1 86 28 b1 0e 00 26</div>
<div class="line">0001a0 : 05 35 7e 39 10 12 35 7e 16 ff 35 e9 e9 e9 e9 12 17 ff 2d 8e 0d f8 39 e9 e9 e9 e9 e9 e9 e9 e9 e9</div>
<div class="line">0001c0 : e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 e9 80 d0 fe e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4</div>
<div class="line">0001e0 : e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4 e4</div>
<div class="line"> </div>
<div class="line">-OFST- : 00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f</div>
<div class="line">---------------------------------------------------------------------------------------------------------</div>
<div class="line">000200 : e4 e4 e4 e4 e4 e4 e0 00 00 00 00 00 00 00 00 00 00 00 0a a1 a1 a1 fe 00 00 02 01 af 5f 4e 4e 4e</div>
<div class="line">000220 : 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 4e 00 00 00 00 00 00 00 00 00 00 00 00 a1</div>
<div class="line">  :                 :                 :                   :                   :                 :</div>
<div class="line">CMD(5) &gt; vt 0</div>
<div class="line"> </div>
<div class="line">Track 0</div>
<div class="line">  #: CC HH RR NN --- ID CRC ---  SIZE</div>
<div class="line">  1: 00 00 01 01 fa0c ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=   20619 DAM_POS=   26431</div>
<div class="line">  2: 00 00 02 01 af5f ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=   68278 DAM_POS=   73917</div>
<div class="line">  3: 00 00 03 01 9c6e ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  115946 DAM_POS=  121579</div>
<div class="line">  4: 00 00 04 01 05f9 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  163526 DAM_POS=  169160</div>
<div class="line">  5: 00 00 05 01 36c8 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  211097 DAM_POS=  216727</div>
<div class="line">  6: 00 00 06 01 639b ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  258703 DAM_POS=  264337</div>
<div class="line">  7: 00 00 07 01 50aa ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  306179 DAM_POS=  311796</div>
<div class="line">  8: 00 00 08 01 4094 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  353669 DAM_POS=  359291</div>
<div class="line">  9: 00 00 09 01 73a5 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  401205 DAM_POS=  406815</div>
<div class="line"> 10: 00 00 0a 01 26f6 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  448721 DAM_POS=  454345</div>
<div class="line"> 11: 00 00 0b 01 15c7 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  496261 DAM_POS=  501888</div>
<div class="line"> 12: 00 00 0c 01 8c50 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  543992 DAM_POS=  549641</div>
<div class="line"> 13: 00 00 0d 01 bf61 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  591645 DAM_POS=  597277</div>
<div class="line"> 14: 00 00 0e 01 ea32 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  639250 DAM_POS=  644907</div>
<div class="line"> 15: 00 00 0f 01 d903 ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  687021 DAM_POS=  692656</div>
<div class="line"> 16: 00 00 10 01 ca4e ID-CRC_OK   256 DAM  DT-CRC OK  RNF_OK  IDAM_POS=  734632 DAM_POS=  740285</div>
</div><!-- fragment --><ul>
<li>Track dump <br  />
 Track dump can indicate the missing-clock* bytes with green color. <br  />
 <img src="../resources/track_dump.png" alt="trk_dmp" class="inline"/></li>
<li>Histogram <br  />
<ul>
<li>Shows distribution of the pulse-to-pulse distance in a track. <br  />
</li>
</ul>
</li>
</ul>
<p >You can check the image quality. The more clear separation of pulse distribution, the better quality. <br  />
</p><ul>
<li>Also, you can check the <b>actual</b> bit rate of the pulses. The actual bit rate can vary due to spindle motor speed fluctuation or incorrect spindle motor speed calibration. <br  />
</li>
</ul>
<div class="fragment"><div class="line">CMD(5) &gt; histogram 0</div>
<div class="line">#clocks  #pulses</div>
<div class="line">   0 :        0 :</div>
<div class="line">   1 :        3 :</div>
<div class="line">   2 :        1 :</div>
<div class="line">   3 :        1 :</div>
<div class="line">   4 :        0 :</div>
<div class="line">   5 :        0 :</div>
<div class="line">   6 :        0 :</div>
<div class="line">   7 :        0 :</div>
<div class="line">   8 :        1 :</div>
<div class="line">   9 :        2 :</div>
<div class="line">  10 :        3 :</div>
<div class="line">  11 :        2 :</div>
<div class="line">  12 :        2 :</div>
<div class="line">  13 :        4 :</div>
<div class="line">  14 :        0 :</div>
<div class="line">  15 :      236 : *</div>
<div class="line">  16 :    14395 : ****************************************************************************************************</div>
<div class="line">  17 :    10734 : **************************************************************************</div>
<div class="line">  18 :      192 : *</div>
<div class="line">  19 :        4 :</div>
<div class="line">  20 :        1 :</div>
<div class="line">  21 :        2 :</div>
<div class="line">  22 :       21 :</div>
<div class="line">  23 :     1668 : ***********</div>
<div class="line">  24 :     6770 : ***********************************************</div>
<div class="line">  25 :     3705 : *************************</div>
<div class="line">  26 :      208 : *</div>
<div class="line">  27 :        0 :</div>
<div class="line">  28 :        2 :</div>
<div class="line">  29 :        0 :</div>
<div class="line">  30 :        2 :</div>
<div class="line">  31 :      228 : *</div>
<div class="line">  32 :     1378 : *********</div>
<div class="line">  33 :      692 : ****</div>
<div class="line">  34 :       22 :</div>
<div class="line">  35 :        0 :</div>
<div class="line">  36 :        0 :</div>
<div class="line">  37 :        0 :</div>
<div class="line">  38 :        0 :</div>
<div class="line">  39 :        3 :</div>
<div class="line">  40 :        1 :</div>
<div class="line">  41 :        0 :</div>
<div class="line"> </div>
<div class="line">Peaks:</div>
<div class="line">1 : 16 [CLKs]</div>
<div class="line">2 : 24 [CLKs]</div>
<div class="line">3 : 32 [CLKs]</div>
<div class="line"> </div>
<div class="line">Estimated bit cell width : 8 [CLKs] (CLK=4 MHz)</div>
<div class="line">Data bit rate : 500 [Kbits/sec]</div>
</div><!-- fragment --><ul>
<li>VFO Visualizer<ul>
<li>Visualises the operation of software VFO. <br  />
</li>
</ul>
</li>
</ul>
<p >You can try different type of VFOs with <code>sv</code> command. <br  />
</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Symbol   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>&gt;</code>, <code>&lt;</code>   </td><td class="markdownTableBodyNone">Bit cell width.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>-</code>   </td><td class="markdownTableBodyNone">Data window period. The data pulse must be in this period. The data window width should be 50% of the bit cell width in MFM/2D standard, but this library uses 75% for easy data reading. You can tweak the data window ratio with an API.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>P</code>   </td><td class="markdownTableBodyNone">Data pulse   </td></tr>
</table>
<div class="fragment"><div class="line">CMD(6) &gt; vv 0</div>
<div class="line">     0 &gt;P     -------------------------------------       &lt;</div>
<div class="line">     1 &gt; P    -------------------------------------      &lt;</div>
<div class="line">     2 &gt;  P   -------------------------------------      &lt;</div>
<div class="line">     3 &gt;    P -------------------------------------      &lt;</div>
<div class="line">     4 &gt;      ------P-----------------------------       &lt;</div>
<div class="line">     5 &gt;      ----------P-------------------------      &lt;</div>
<div class="line">     6 &gt;      --------------P---------------------      &lt;</div>
<div class="line">     7 &gt;      -----------------P------------------      &lt;</div>
<div class="line">     8 &gt;      ---------------------P--------------      &lt;</div>
<div class="line">     9 &gt;      -----------------------P------------      &lt;</div>
<div class="line">    10 &gt;      --------------------------------P---      &lt;</div>
<div class="line">    11 &gt;      ----------------------------------P-       &lt;</div>
<div class="line">    12 &gt;      ------------------------------------P      &lt;</div>
<div class="line">    13 &gt;      ------------------------------------- P    &lt;</div>
<div class="line">    14 &gt;      -------------------------------------  P   &lt;</div>
<div class="line">    15 &gt;      -------------------------------------  P   &lt;</div>
<div class="line">    16 &gt; P    -------------------------------------       &lt;</div>
<div class="line">    17 &gt;  P   -------------------------------------      &lt;</div>
<div class="line">    18 &gt;    P -------------------------------------      &lt;</div>
<div class="line">    19 &gt;      P------------------------------------      &lt;</div>
<div class="line">    20 &gt;      ---P---------------------------------      &lt;</div>
<div class="line">    21 &gt;      -----P------------------------------       &lt;</div>
<div class="line">    22 &gt;      --------------P---------------------      &lt;</div>
<div class="line">    23 &gt;      ------------------P-----------------      &lt;</div>
<div class="line">    24 &gt;      ---------------------P--------------      &lt;</div>
<div class="line">    25 &gt;      -------------------------P----------      &lt;</div>
<div class="line">    26 &gt;      ----------------------------P-------      &lt;</div>
<div class="line">    27 &gt;      ------------------------------P-----       &lt;</div>
<div class="line">    28 &gt;      -------------------------------------P     &lt;</div>
<div class="line">    29 &gt;      -------------------------------------  P   &lt;</div>
<div class="line">     :                          :                        :</div>
<div class="line">  4977 &gt;      ---------------------P----------------       &lt;</div>
<div class="line">  4978 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4979 &gt;      ----------------------P---------------       &lt;</div>
<div class="line">  4980 &gt;      --------------------P-----------------       &lt;</div>
<div class="line">  4981 &gt;      ------------------P-------------------       &lt;</div>
<div class="line">  4982 &gt;      ---------------P----------------------       &lt;</div>
<div class="line">  4983 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4984 &gt;      -----------------P--------------------       &lt;</div>
<div class="line">  4985 &gt;      ---------------------P----------------       &lt;</div>
<div class="line">  4986 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4987 &gt;      ----------------------P---------------       &lt;</div>
<div class="line">  4988 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4989 &gt;      ----------------------P---------------       &lt;</div>
<div class="line">  4990 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4991 &gt;      -----------------------P--------------       &lt;</div>
<div class="line">  4992 &gt;      --------------------P-----------------       &lt;</div>
<div class="line">  4993 &gt;      ------------------------P-------------       &lt;</div>
<div class="line">  4994 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4995 &gt;      -----------------------P--------------       &lt;</div>
<div class="line">  4996 &gt;      --------------------P-----------------       &lt;</div>
<div class="line">  4997 &gt;      -----------------------P--------------       &lt;</div>
<div class="line">  4998 &gt;      -------------------P------------------       &lt;</div>
<div class="line">  4999 &gt;      ----------------------P---------------       &lt;</div>
<div class="line">-- vfo_base --</div>
<div class="line">Cell_size : 8.22547</div>
<div class="line">Cell_size_ref : 8</div>
<div class="line">Window ratio  : 0.75</div>
<div class="line">Window size   : 6.1691</div>
<div class="line">Windoe offset : 1.02818</div>
<div class="line">Gain (Low)    : 1</div>
<div class="line">Gain (High)   : 2</div>
<div class="line">Current gain  : 1</div>
<div class="line">-- vfo_simple --</div>
<div class="line">Freq integral  : -2.25465</div>
<div class="line">CMD(7) &gt; q</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Interactive Pulse Viewer ('vp' command)</h2>
<p >You can view and check the bit stream data at an arbitrary point. The viewer has a simple MFM decoding feature so that you can check the decoded value in real-time. <br  />
 You can move the display point by sampling unit, bit cell unit, or byte unit by key operation. <br  />
 This viewer also has a simple pulse edit feature. You can add or remove the pulses at any point. <br  />
 <img src="../resources/pulse_viewer.png" alt="pulse_viewer" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md5"></a>
Pulse pitch fluctuation viewer ('vpf' command)</h2>
<p >You can check the fluctuation of pulse pitch in a track. FDD/FDC is expecting stable pulse pitches to decode MFM data. However, some floppy disk mediums may have pulse pitch fluctuation, making the disk image data reconstruction from the captured data difficult. <br  />
 This feature visualizes the pulse pitch fluctuation through a track so that you can visually check the stability of the pulses in the medium. <br  />
</p>
<ul>
<li>Bad case - pulse pitch is fluctuating <br  />
 <img src="../resources/pulse%20fluctuation.png" alt="fluctuation" class="inline"/></li>
<li>Good case - stable and regular pulse pitch <br  />
 <img src="../resources/pulse_fluctuation_good.png" alt="fluctuation_good" class="inline"/> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
